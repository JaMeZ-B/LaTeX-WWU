%!TEX TS-program = xelatex
%!TEX TS-options = -shell-escape
\input{../!config/mitschrift3.tex}
\newcommand{\fach}{Algebraische $K$-Theorie}
\newcommand{\semester}{Sose 2016}
\newcommand{\homepage}{https://wwwmath.uni-muenster.de/reine/u/topos/lehre/WS2015-2016/Topologie2/}

\newcommand{\prof}{Prof.\ Dr.\ Arthur Bartels}
\publishers{\scalebox{11}{\Huge$K^{\raisebox{2.7pt}{\text{\small$\mathrm{alg}$}}}$}}
\input{../!config/mitschrift_headings.tex}

\begin{document}
\pagenumbering{Roman}
\maketitle
\begin{abstract}
\input{../!config/vorwort.tex}
\section*{Literatur}
\begin{itemize}
	\item \citetitle{Rosenberg} von J. \citeauthor{Rosenberg} \cite{Rosenberg}
	\item \citetitle{Weibel} von Charles \citeauthor{Weibel} \cite{Weibel}
	\item \citetitle{MilnorKtheory} von John \citeauthor{MilnorKtheory} \cite{MilnorKtheory}
\end{itemize}
\end{abstract}

\tableofcontents
\cleardoubleoddemptypage

\pagenumbering{arabic}
\setcounter{page}{1}
\setcounter{footnote}{0}

\section{$K_0$ eines Ringes} % (fold)
\label{sec:k_0_eines_ringes}

\begin{definition}[{name=[{projektiv}]}]
	Sei $R$ ein Ring.
	Ein $R$-Modul $P$ heißt \Index{projektiv}, falls er folgende Eigenschaft hat:
	Sei $f \colon M \twoheadrightarrow P$ $R$-linear und surjektiv. 
	Dann gibt es einen Spalt $s \colon P \to M$, das heißt eine $R$-lineare Abbildung $s$ mit $f \circ s = \id_P$.
\end{definition}

\begin{bemerkung}[{name=[{Äquivalenzen zu Projektivität}]}]
	Die zwei folgenden Bedingungen sind äquivalent zur Projektivität von $P$:
	\begin{enumerate}[1)]
		\item Sind $\varphi \colon P \to N$, $\psi \colon M \twoheadrightarrow N$ $R$-linear und $\psi$ surjektiv, so gibt es $\hat{\varphi} \colon P \to M$ mit $\psi \circ \hat{\varphi} = \varphi$.
		\[
			\begin{tikzcd}
				& M \dar[two heads,"\psi"] \\
				P \rar["\varphi"] \urar["\hat{\varphi}",dashed] & N
			\end{tikzcd}
		\]
		\item $P$ ist ein direkter Summand in einem freien Modul, das heißt es gibt einen $R$-Modul $Q$, sodass $P \oplus Q$ eine $R$-Basis besitzt.
	\end{enumerate}
\end{bemerkung}

\begin{definition}[{name=[{endlich erzeugter $R$-Modul}]}]
	Ein $R$-Modul heißt \bet{endlich erzeugt}\index{endlich erzeugter $R$-Modul}, wenn es eine endliche Teilmenge $S \subseteq M$ gibt, sodass $M$ der einzige Untermodul von $M$ ist, der $S$ enthält.
	Wir nennen $S$ ein \Index{endliches Erzeugendensystem} für $M$.
\end{definition}

\begin{bemerkung}[{name=[{endlich erzeugte freie Moduln}]}]
	Ein freier $R$-Modul ist genau dann endlich erzeugt, wenn er eine endliche Basis besitzt.
	Er ist dann isomorph zu $R^n$ für geeignetes $n \in \mathbb{N}$.\marginnote{dieses $n$ muss nicht eindeutig sein!}
\end{bemerkung}

\begin{satz}[{name=[{Äquivalenzen zur Projektivität endlich erzeugter Moduln}]},label=satz:proj_endlich_erz]
	Sei $P$ ein endlich erzeugter $R$-Modul.
	Dann sind äquivalent:
	\begin{enumerate}[1)]
		\item $P$ ist projektiv.
		\item $P$ ist direkter Summand in einem $R^n$.
		\item Es gibt eine $R$-lineare idempotente\marginnote{$p^2=p$} Abbildung $p \colon R^n \to R^n$ mit $P \cong \im p$.
	\end{enumerate}
\end{satz}
\begin{beweis}
	Sei zunächst $P$ projektiv.
	Ist $v_1,\ldots ,v_n$ ein endliches Erzeugendensystem von $P$, so erhalten wir $R$-lineare surjektive Abbildung $f \colon R^n \to P$, $f(r_1,\ldots,r_n)=\sum_{i=1}^n r_i \cdot v_i$.
	Da $P$ projektiv ist, gibt es einen Spalt $s$ für $f$ und es folgt $R^n \cong P \oplus \ker f$.
	
	Sei nun $\varphi \colon P \oplus Q \to R^n$ ein Isomorphismus.
	Sei $\tilde{p} \colon P \oplus  Q \to P \oplus Q$ die Projektion auf $P$, also $\tilde{p} (v,w) = (v,0)$ für $v \in P$, $w \in Q$.
	Dann ist $p := \varphi \circ \tilde{p} \circ \varphi^{-1} \in \End_R(R^n)$ idempotent und $\varphi|_{P} \colon P \to \im p$ ein Isomorphismus.
	
	Sei $p \colon R^n \to R^n$ idempotent.
	Wir zeigen, dass $\im p = p(R^n)$ projektiv ist.
	Sei $f \colon M \twoheadrightarrow p(R^n)$ $R$-linear und surjektiv.
	Dann gibt es $v_1,\ldots ,v_n \in M$ mit $f(v_i)= p(e_i)$.
	Sei $\hat{s} \colon R^n \to M$ gegeben durch $\hat{s}(r_1,\ldots ,r_n)=\sum_{i=1}^{n} r_i \cdot v_i$.
	Dann ist $f \circ \hat{s} =p$ und daher gilt für $w =p(w) \in \im p$
	\[
		f \enbrace[\big]{\hat{s}(w)} =p(w)=w
	\]
	Also ist $s:= \hat{s}|_{p(R^n)}$ der gesuchte Spalt.
\end{beweis}

\begin{bemerkung}[{name=[{direkte Summanden des $R^n$ sind endlich erzeugt}]}]
	Ist $P \subseteq R^n$ ein direkter Summand, so ist $P$ endlich erzeugt, da wir eine Surjektion $R^n \to P$ erhalten und das Bild der endlichen Basis der $R^n$ dann auch ein endliches Erzeugendensystem für $P$ ist.
\end{bemerkung}

\begin{bemerkung}[{name=[{Menge der Isomorphieklassen von endlich erzeugten projektiven Moduln}]}]
	Für jedes $n \in \mathbb{N}$ bilden die Untermoduln von $R^n$ eine Menge, insbesondere bilden die direkten Summanden eine Menge.
	Es folgt mit \autoref{satz:proj_endlich_erz}, dass auch die Isomorphieklassen von endlich erzeugten projektiven $R$-Moduln eine Menge bilden.
	Diese nennen wir $\Proj(R)$.
\end{bemerkung}

\begin{bemerkung}[{name=[{Proj(R) als abelsche Halbgruppe}]}]
	$\Proj(R)$ wird durch $\oplus$ zu einer abelschen Halbgruppe mit der Isomorphieklasse des Nullmoduls als neutralem Element.
\end{bemerkung}

\begin{satz}[name={Grothendiek-Konstruktion}]
	Sei $S$ eine abelsche Halbgruppe.
	Dann gibt es eine abelsche Gruppe $\Gr(S)$ zusammen mit einem Halbgruppenhomomorphismus $\varphi \colon S\to \Gr(S)$, der folgende universelle Eigenschaft erfüllt:
	Ist $A$ eine abelsche Gruppe und $\psi \colon S \to A$ ein Halbgruppenhomomorphismus, so gibt es einen eindeutigen Gruppenhomomorphismus $\hat{\psi} \colon \Gr(S) \to A$ mit $\psi = \hat{\psi} \circ \varphi$.
	\[
		\begin{tikzcd}[column sep=3em]
			S \rar["\varphi"] \drar["\psi"'] & \Gr(S) \dar[dashed,"\hat{\psi}"] \\
			& A
		\end{tikzcd}
	\]
\end{satz}
\begin{beweis}
	Wir nehmen an, dass $S$ ein neutrales Element besitzt.
	Wir definieren $\Gr(S)$ wie folgt: Auf $S \times S$ betrachten wir die Äquivalenzrelation 
	\[
		(s,t) \sim (s',t') :\iff \exists x \in S : s +t' + x = s'+t +x
	\] 
	und setzen $\Gr(S) := \sfrac{S\times S}{\sim}$.
	Wir schreiben $s-t$ für die Äquivalenzklasse von $(s,t)$.
	Die Addition auf $\Gr(S)$ ist durch $(s-t) + (s'-t') = s+s'  - (t+t')$ gegeben, das Inverse zu $s-t$ ist $t-s$.
	Der Halbgruppenhomomorphismus $\varphi \colon S \to \Gr(S)$ ist definiert durch $\varphi(s)= s - 0$.
	Ist $\psi \colon S \to A$ ein Halbgruppenhomomorphismus, so erhalten wir $\hat{\psi} \colon \Gr(S) \to A$ durch $\hat{\psi}(s-t) = \psi(s)- \psi(t)$.
\end{beweis}

\begin{definition}[{name=[{Grothendiek-Gruppe}]}]
	$\Gr(S)$ heißt die \Index{Grothendiek-Gruppe} oder \Index{Gruppenvervollständigung} von $S$.  
\end{definition}

\begin{bemerkung}[{name=[alternative Konstruktion mit freier abelscher Gruppe]}]
	Alternativ können wir auch die \Index{freie abelsche Gruppe} $\mathbb{Z}[S]$ benutzen, um $\Gr(S)$ zu konstruieren.
  Setze dazu
	\[
		\Gr(S) := \sfrac{\mathbb{Z}[S]}{A}
	\]
	wobei $A$ von $\set[\big]{s + t-(s +_S t) \given s,t \in S}$ erzeugt wird.
\end{bemerkung}

\begin{beispiel}[{name=[{für Grothendiek-Konstruktionen}]}]
	Es gilt
	\begin{multicols}{2}
		\begin{itemize}
			\item $\Gr(\mathbb{N},+) \cong \mathbb{Z}$
			\item $\Gr(\mathbb{N}_{\ge 17},+) \cong \mathbb{Z}$
			\item $\Gr(\mathbb{N}_{>0},\cdot ) \cong (\mathbb{Q}_{>0},\cdot )$
			\item $\Gr(\mathbb{N}_{\ge 0},\cdot) \cong 0$ (mit $x=0$)
			\item $\Gr(\mathbb{N} \cup \set*{\infty},+) \cong 0$
		\end{itemize}
	\end{multicols}
\end{beispiel}

\begin{bemerkung}[{name=[{Funktorialität}]}]
	$S \mapsto \Gr(S)$ ist ein Funktor von der Kategorie der abelschen Halbgruppen in die Kategorie der abelschen Gruppen:
	Ist $\psi \colon S \to S'$ ein Halbgruppenhomomorphismus, so ist $\Gr(\psi) \colon \Gr(S) \to \Gr(S')$, $s-t \mapsto \psi(s) - \psi(t)$ der induzierte Gruppenhomomorphismus.
  Dieser induzierte Gruppenhomomorphismus lässt sich auch mit der universellen Eigenschaft konstruieren.
\end{bemerkung}

\begin{definition}[{name=[{$K_0$ von Ringen}]}]
	Sei $R$ ein Ring. 
	Wir definieren
	\[
		K_0(R) := \Gr \enbrace[\big]{\Proj(R),\oplus }
	\]
	Elemente in $K_0$ sind also formale Differenzen $[P]- [Q]$ von Isomorphieklassen von endlich erzeugten projektiven Moduln.
\end{definition}

Es gilt $[P] - [Q] = [P']- [Q']$ genau dann, wenn es einen endlich erzeugten projektiven Modul $X$ gibt mit
\[
	P \oplus Q' \oplus X \cong P' \oplus Q \oplus X
\]
Da jedes solche $X$ direkter Summand in einem endlich erzeugten freien Modul ist, genügt es für $X$ endlich erzeugte freie Moduln zu betrachten.
Insbesondere ist $[P]=0 \in K_0(R)$ genau dann, wenn es $n \in \mathbb{N}$ gibt mit $P \oplus R^n \cong R^n$.\todo{RevChap 1}

\begin{bemerkung}[{name=[{Funktoreigenschaften der 0-ten K-Theorie}]}]
	$K_0(R)$ ist ein Funktor: Ist $f \colon R \to R'$ ein Ringhomomorphismus, so erhalten wir eine induzierte Abbildung $\Proj(R) \to \Proj(R')$ durch $_R P \mapsto  R' \otimes_R {_R P}$, dabei wird $R'$ durch $f$ zu einem $R$-Rechtsmodul:
	\[
		r' \cdot r := r' \cdot f(r)
	\]
	Es ist nun $K_0(f) \colon K_0(R) \to K_0(R')$ gegeben durch 
	\(
		[P]- [Q] \longmapsto \benbrace*{R' \otimes_R P} - \benbrace*{R' \otimes_R Q}
	\).
\end{bemerkung}

\begin{bemerkung}[{name=[{kontravarianter Funktor}]}]
	Ist $f \colon R \to R'$ ein Ringhomomorphismus und $M'$ ein $R'$-Modul, so wird $M'$ zu einem $R$-Modul durch $r \cdot m' := f(r) \cdot m'$.
	Manchmal bezeichnet wir diesen $R$-Modul mit $\res_f M'$ oder $f^* M'$.
	Der Funktor $f^* \colon R'\text{-}\MOD \to R\text{-}\MOD$ erhält aber nicht notwendig endlich erzeugte bzw. projektive Moduln.
	Betrachte dazu die Inklusion $\mathbb{Z} \hookrightarrow \mathbb{Q}$. 
	Als $\mathbb{Q}$-Modul ist $\mathbb{Q}$ frei, als $\mathbb{Z}$-Modul nicht endlich erzeugt.
	
	Manchmal fasst man $f$ als eine Abbildung $f \colon \Spec R' \to \Spec R$ auf und schreibt $f_*$ für obigen Funktor.
\end{bemerkung}

\begin{satz}[{name=[{K0 von einem Körper}]}]
	Sei $F$ ein Körper.
	Dann erhalten wir einen Isomorphismus $\dim K_0(F) \to \mathbb{Z}$ mit 
	\[
		\dim\enbrace[\big]{[P]- [Q]} = \dim_F P - \dim_F Q
	\]
\end{satz}
\begin{beweis}
	Sei $[P]- [Q] = [P']- [Q']$ in $K_0(R)$.
	Dann gibt es einen endlich erzeugten Modul $V$ mit $P \oplus Q' \oplus V \cong P' \oplus Q \oplus V$.
	Insbesondere gilt 
	\[
		\dim P + \dim Q' + \dim V = \dim P' + \dim Q + \dim V,
	\]
	also $\dim P - \dim Q = \dim P' - \dim Q'$ und somit ist die Abbildung $\dim$ wohldefiniert auf $K_0(R)$.
	Wegen $\dim \enbrace*{[F^n]- [F^m]} = n-m$ ist $\dim$ surjektiv.
	
	Sei nun $[P]-[Q] \in K_0(R)$ mit $\dim \enbrace*{[P]- [Q]}=0$.
	Dann ist $\dim P - \dim Q =0$, also $P \cong Q$ und $[P]=[Q]$ bzw. $[P]-[Q]=0$.
\end{beweis}

\begin{definition}
	Sei $\iota \colon \mathbb{Z} \to K_0(R)$ der durch $n \mapsto \benbrace*{R^n}$ induzierte Gruppenhomomorphismus.
	Wir definieren 
	\[
		\tilde{K}_0(R) := \sfrac{K_0(R)}{\iota(\mathbb{Z})}
	\]
\end{definition}

\begin{bemerkung}
	\leavevmode
	\begin{enumerate}[1)]
		\item Im Allgemeinen ist $\iota$ weder injektiv noch surjektiv.
		\item $[P]=0 \in \tilde{K}_0(R)$ ist äquivalent zu $P$ ist \Index{stabil endlich erzeugt frei}, das heißt es gibt einen endlich erzeugten freien $R$-Modul $F$, sodass $F \oplus P$ frei ist.
		Insbesondere 
		\[
			\tilde{K}_0(R) =0 \iff \text{Jeder endlich erzeugte projektive Modul ist stabil endlich erzeugt frei} 
		\]
		\item Sei $R$ ein Ring, für den jeder endlich erzeugte projektive Modul frei von wohldefiniertem Rang ist, also $P \cong R^n$ für eindeutiges $n$.
		Dann definiert der Rang -- wie bei Körpern -- ein Inverses zu $\iota$ und wir erhalten $K_0(R)\cong \mathbb{Z}$.
		
		(Dies gilt zum Beispiel für Hauptidealringe oder lokale Ringe.)
		\item Gilt $R^n \cong R^m$ genau dann, wenn $n=m$ (also also wenn der Rang für endlich erzeugte freie Moduln wohldefiniert ist), so ist $\iota$ injektiv.
		Dies gilt zum Beispiel für kommutative Ringe oder Gruppenringen über kommutativen Ringen. 
	\end{enumerate}
\end{bemerkung}

\begin{beispiel}[{name={Eilenberg-Schwindel}}]
	Betrachte die Menge $\Proj^\infty(R)$ der Isomorphieklassen von projektiven $R$-Moduln mit einem abzählbaren Erzeugendensystem.
	Dann ist $\enbrace*{\Proj^\infty(R), \oplus }$ eine abelsche Halbgruppe.
	Dann ist aber $\Gr\enbrace*{\Proj^\infty(R),\oplus}=0$, denn zu jedem solchen Modul $P$ gibt es einen zweiten $Q$ mit $P \oplus Q \cong Q$, nämlich $Q := \bigoplus_{i=1}^\infty P$ ist auch projektiv und abzählbar erzeugt.\marginnote{man kann $Q$ auch frei wählen}
\end{beispiel}

\begin{definition}[{name=[Morita-äquivalent]}]
	Ringe $R$ und $S$ heißen \Index{Morita-äquivalent}, wenn es Bimoduln $_R X_S$ und $_S Y _R$ gibt, sodass 
	\begin{equation}
		\begin{split}
			{_R X_S} \otimes_S {_S Y _R} &\cong {_R R_R} \enspace\text{ als $R$-$R$-Bimodul} \\ 
			{_S Y _R} \otimes_R {_R X_S} &\cong {_S S_S} \enspace\text{ als $S$-$S$-Bimodul}
		\end{split} \tag{\#}\label{eq:def:morita}
	\end{equation}
\end{definition}

\begin{bemerkung}
	\eqref{eq:def:morita} impliziert, dass $_R X_S$ sowohl als $R$-Linksmodul als auch als $S$-Rechtsmodul endlich erzeugt projektiv ist,
	Gleiches gilt (umgekehrt) auch für ${_S X_R}$.
\end{bemerkung}

\begin{beispiel}
	Für jeden Ring $R$ ist $R$ Morita-äquivalent zum Ring $M_n(R)$ der $n \times n$-Matrizen über $R$ via ${_R X_{M_n(R)}}=R^n$ und $_{M_n(R)} Y_R = R^n$.
	Dabei wirkt $M_n(R)$ einmal auf $R^n$ als Spalten von links und einmal als Zeilen von rechts.
\end{beispiel}

\begin{satz}[{name=[K0 ist Morita-invariant]}]
	Sind $R$ und $S$ Morita-äquivalent, so gilt $K_0(R) \cong K_0(S)$.
\end{satz}
\begin{beweis}
	% Betrachte $\benbrace*{_R P} \mapsto \benbrace[\big]{{_S Y_R} \otimes_R {_R P}}$ ist ein Isomorphismus $\Proj(R) \to \Proj(S)$.
	% Die Inverse wird von $_R X _S$ induziert.
	Seien $x_i \in X$, $y_i \in Y$ und setze $\psi \enbrace*{\sum_{i=1}^{n} y_i \otimes x_i} = 1_S$.
	\[
		\begin{tikzcd}
			_R X \rar["\alpha"] & R^n & R^n \rar["\beta"] & X_R \\
			x \rar[mapsto] & \enbrace*{\varphi(x \otimes y_1), \ldots , \varphi(x \otimes y_n)} & (r_1, \ldots ,r_n) \rar[mapsto] & \sum_{i=1}^{n} r_i x_i
		\end{tikzcd}
	\]
	Damit ist $\beta \enbrace{\alpha(x)} = \sum_{i=1}^{n} \varphi(x \otimes y_i) x_i$.
	Betrachte nun das folgende Diagramm:\todo{Diagramm fertig machen}
	\[
		\begin{tikzcd}[sep=large]
			_R X \ar[rr,"\beta \circ \alpha"] \dar["\cong"] & & _R X \\
			{_R X} \otimes_S S \rar["\id \otimes \psi^{-1}"]  & {_R X} \otimes_S X \otimes_R X \rar["\varphi \otimes {\id}","\cong"'] & R \otimes_R X \uar["\cong"]
		\end{tikzcd}
	\]
	Damit ist $\alpha \circ \beta$ ein Isomorphismus.
\end{beweis}

\begin{korollarB}
	$K_0(R) \cong K_0 \enbrace[\big]{M_n(R)}$, ist $F$ ein Körper, so gilt $K_0 \enbrace[\big]{M_n(F)} \cong \mathbb{Z}$.
\end{korollarB}

\begin{satz}
	Sei $(\Lambda,\le)$ eine gerichtete Menge, $R \colon \Lambda \to \textsc{Ringe}$ ein Funktor.
	Dann gilt 
	\[
		K_0 \enbrace[\Big]{\colim_{\lambda \in \Lambda} R(\lambda)} \cong \colim_{\lambda \in \Lambda} K_0\enbrace[\big]{R(\lambda)}
	\]
\end{satz}
\begin{beweis}[Skizze]
	Man zeigt zunächst $\Proj \enbrace*{\colim_\Lambda R(\lambda)} = \colim_\Lambda \Proj \enbrace*{R(\lambda)}$.
	Sei $\mathcal{R} := \colim_\Lambda R(\lambda)$.
	Der entscheidende Punkt ist: Zu jedem endlich erzeugten projektiven Modul $\mathcal{R}$-Modul $\mathcal{M}$ gibt es $\lambda \in \Lambda$ und einen endlich erzeugten projektiven $R(\lambda)$-Modul $M(\lambda)$ mit $\mathcal{M} \cong \mathcal{R} \otimes_{R(\lambda)} M(\lambda)$.
	Dazu wählen wir $\tilde{p} \in M_n(\mathcal{R})$ idempotent mit $\mathcal{M} \cong \im \tilde{p}$.
	Dann gibt es $\lambda \in \Lambda$ mit $p(\lambda) \in M_n(R(\lambda))$ mit $\tilde{p} =f_\lambda(p(\lambda))$ unter $f_\lambda \colon M_n(R(\lambda)) \to M_n(\mathcal{R})$.
	Dann ist $\mathcal{M} \cong \im \tilde{p} \cong \mathcal{R} \otimes_{R(\lambda)} \im p(\lambda)$.
	Nun zeigt man, dass auch $\Gr$ mit gerichteten Kolimiten vertauscht.
\end{beweis}

\begin{beispiel}
	Sei $F$ ein Körper.
	Betrachte den Ringhomomorphismus $i_n \colon M_{2^n}(F) \to M_{2^{n+1}}(F)$ mit $i_n(A) = \begin{psmallmatrix} A & 0 \\ 0 & A \end{psmallmatrix}$.
	Sei $R= \colim_n M_n(F)$.
	Es folgt
	\[
		K_0(R) = \colim_{n \in \mathbb{N}} K_0 \enbrace*{M_n(F)} = \colim \Big(
		\begin{tikzcd}
			\mathbb{Z} \rar["(i_1)_*"] & \mathbb{Z} \rar["(i_2)_*"] & \mathbb{Z} \rar["(i_3)_*"]  & \mathbb{Z} \rar & \ldots 
		\end{tikzcd}
		\Big)
	\]
	Für $n \in \mathbb{N}$ sei $f_n \colon K_0(F) \to$ der durch die Morita-Äquivalenz $V \mapsto  F^n \otimes_R V$ induzierte Isomorphismus.
	Dann kommutiert
	\[
		\begin{tikzcd}
			\mathbb{Z} \dar["\cdot 2"] & K_0(F) \lar["\dim"] \dar["\cdot 2"] \rar["f_n"] & K_0 \enbrace*{M_{2^n}(F)} \dar["(i_n)_*"] \\
			\mathbb{Z} & K_0(F) \lar["\dim"] \rar["f_{n+1}"] & K_0 \enbrace*{M_{2^{n+1}} (F)}
		\end{tikzcd}
	\]
	Also $K_0(R) = \colim \colim \big(
		\begin{tikzcd}
			\mathbb{Z} \rar["\cdot 2"] & \mathbb{Z} \rar["\cdot 2"] & \mathbb{Z} \rar["\cdot 2"]  & \mathbb{Z} \rar & \ldots 
		\end{tikzcd}
		\big) = \mathbb{Z}\benbrace*{\frac{1}{2}}$.
\end{beispiel}
% section k_0_eines_ringes (end)
\newpage

\section{$K_0$ und Dedekind-Ringe} % (fold)
\label{sec:2}
\emph{In diesem Abschnitt ist der Ring $R$ immer nullteilerfrei, kommutativ und $Q := \mathrm{Quot}(R)$ bezeichnet den Quotientenkörper von $R$.}\todo{RevChap2}

\begin{definition}[{name=[{gebrochenes Ideal}]}]
	Ein \bet{gebrochenes Ideal}\index{Ideal!gebrochenes} von $R$ ist ein $R$-Untermodul $I \neq 0$ von $Q$, zu dem es $a \in R$ gibt mit $a I \subseteq R$.
	Jedes nichttriviale Ideal von $R$ ist auch ein gebrochenes Ideal.
	Zur besseren Unterscheidung nennt man dann Ideale von $R$ auch \bet{ganze Ideale}\index{Ideal!ganzes}.
	Für $\frac{a}{b} \in Q$, $a,b\neq 0$ ist $\frac{a R}{b}$ ein bebrochenes Ideal.
	Wir nennen solche gebrochenen Ideale \Index{gebrochene Hauptideale}.
\end{definition}

\begin{bemerkung}
	Die Menge der gebrochenen Ideale bildet bezüglich Multiplikation von gebrochenen Idealen $I \cdot J := \set[\big]{\sum_{i} a_i b_i \given a_i \in I, b_i \in J}$ eine abelsche Halbgruppe mit neutralem Element $R$.
\end{bemerkung}

\begin{definition}[{name=[{Dedekind-Ring}]}]
	$R$ heißt \Index{Dedekind-Ring}\footnote{nach Julius Wilhelm Richard \textsc{Dedekind}, * 1831 † 1916, deutscher Mathematiker}, falls die gebrochenen Ideale eine Gruppe bezüglich Multiplikation bilden. 
\end{definition}

\begin{lemma}[{name=[Invereses eines gebrochenen Ideals]}]
	Sei $R$ ein Dedekind-Ring, $I$ ein gebrochenes Ideal.
	Dann ist $I^{-1} = \set*{a \in Q \given a I \subseteq R}$.
\end{lemma}
\begin{beweis}
	Sei $J:= \set*{a \in Q \given a I \subseteq R}$.
	Wegen $I^{-1} \cdot I \subseteq R$ ist $I^{-1} \subseteq J$ und daher $R = I \cdot I^{-1} \subseteq I \cdot J \subseteq R$, also $I \cdot J =R$, also $J=I^{-1}$.
\end{beweis}

\begin{definition}[{name=[{Klassengruppe}]}]
	Die \Index{Klassengruppe} eines Dedekind-Ringes ist definiert als 
	\[
		C(R):=  \frac{\text{Gruppe der gebrochenen Ideale}}{\text{Untergruppe der gebrochenen Hauptidealringe}} 
	\]
\end{definition}

\begin{lemma}
	$C(R)=0 \iff R$ ist Hauptidealring.
\end{lemma}
\begin{beweis}
	Sei $I \subseteq R$ ein Ideal.
	Dann ist $I$ auch ein gebrochenes Ideal und aus $C(R)=0$ folgt, dass $I$ auch ein gebrochenes Hauptideal, also $I = \frac{aR}{b}$ ist.
	Wegen $\frac{a}{b} \in I \subseteq R$ ist $I$ ein Hauptideal.
	
	Sei umgekehrt $I \subseteq Q$ ein gebrochenes Ideal.
	Wähle $b \in R$ mit $b I \subseteq R$.
	Dann ist $b \cdot I=a R$, also $I= \frac{a R}{b}$ wie gewünscht. 
\end{beweis}

\begin{satz}[label=satz:2:1]
	Sei $F$ ein \Index{Zahlkörper}, das heißt $F$ ist eine endliche Körpererweiterung von $\mathbb{Q}$.
	Sei $R$ der Ring der ganzen Zahlen in $F$, das heißt $\alpha \in F$ liegt genau dann in $R$, wenn $\alpha$ Nullstelle eines normierten Polynoms über $\mathbb{Z}$ ist.
	Dann ist $R$ ein Dedekind-Ring.
\end{satz}
\todo[inline]{Referenz Rosenberg}


\begin{satz}[label=satz:klassengruppe_K_0]
	Sei $R$ ein Dedekind-Ring.
	Dann ist die Klassengruppe isomorph zu $\tilde{K}_0(R)$.
\end{satz}

\begin{lemma}[label=lem:ideale_dedekind]
	Sei $R$ ein Dedekind-Ring.
	Dann gilt
	\begin{enumerate}[a)]
		\item Ideale in $R$ sind endlich erzeugt projektiv als $R$-Moduln.
		\item Jeder projektive endlich erzeugte $R$-Modul ist isomorph zu einer Summe von Idealen 
		\[
			I_1 \oplus \ldots \oplus I_n
		\]
		\item Ist ein Ideal $I \subseteq R$ stabil frei (als $R$-Modul), dann ist $I$ ein Hauptideal.
	\end{enumerate}
\end{lemma}
\begin{beweis}
	\begin{enumerate}[a)]
		\item Sei $I \subseteq R$ ein Ideal. 
		Da $I^{-1} \cdot I=R$ ist, gibt es $a_1, \ldots, a_n \in I^{-1}$, $b_1, \ldots ,b_n \in I$ mit $1= a_1 b_1 + \ldots + a_n b_n$.
		Weiter ist $a_i I \subseteq R$ für alle $i$.
		Betrachte nun 
		\begin{align}
			p \colon R^n \longrightarrow I &\quad \text{ mit } p(r_1,\ldots ,r_n) =r_1 b_1+ \ldots r_n b_n \\
			s \colon I \longrightarrow R^n &\quad \text{ mit } s(b) = \enbrace*{b a_1, \ldots , b a_n}  
		\end{align}
		Dann ist $p \circ s(b) = b a_1 b_1 + \ldots + b a_n b_n = b \enbrace*{a_1 b_i + \ldots + a_n b_n}= b$.
		Also ist $p \circ s =\id$ und folglich ist $I$ endlich erzeugt projektiv als $R$-Modul.
		\item Wir zeigen per Induktion nach $k$: Ist $P \subseteq R^k$, so ist $P$ isomorph zu einer Summe von Idealen.
		
		Für $k=1$ ist die Aussage klar, da Untermoduln von $R$ Ideale sind. Für den Induktionsschritt $(k-1) \mapsto k$ sei $P \subseteq R^k$.
		Die Projektion auf die letzte Koordinate liefert kurze exakte Folgen 
		\[
			\begin{tikzcd}
				R^{k-1} \rar[hook] & R^k \rar["\pi"] & R \\
				P \cap R^{k-1}\uar[phantom,sloped,"\subseteq"] \rar & P \rar \uar[phantom,sloped,"\subseteq"] &  \pi(P) \uar[phantom,sloped,"\subseteq"]
			\end{tikzcd}
		\]
		Nach a) ist $\pi(P)$ projektiv und daher spaltet die unter Folge und wir können die Induktionsvorraussetzung anwenden.
		\item Vorbemerkung: Gibt es $a \in I$ mit $a^{-1} \in I^{-1}$, so ist $I$ ein Hauptideal, genauer ist $I = R \cdot a$.
		Sei dazu $x \in I$.
		Dann ist $x = (x a^{-1}) a$.
		
		Sei nun $f \colon R^n \hookrightarrow R^m$ mit $\im f = R^{m-1} \oplus I$.
		Wegen $I \neq 0$ wird $f$ über $Q$ invertierbar, insbesondere ist $n=m$.
		Sei $A \subset Q^{n \times n}$ die dazugehörigen Matrix.
		Da $A(R^n) \subseteq R^{n-1} \oplus I$ gilt, liegen alle Einträge von $A$ in $R$, die unterste Zeile sogar in $I$.
		Insbesondere $a := \det A \in I$
		
		Sei $B := A^{-1}$.
		Wegen $B \enbrace*{R^{n-1} \oplus I} \subseteq R^n$ liegen die Einträge der ersten $n-1$ Spalten in $R$ und die der letzten in $I^{-1}$.
		Insbesondere $a^{-1} = \det A^{-1} \in I^{-1}$.
		Nun ist $a \cdot a^{-1} = \det A \cdot \det A^{-1} = \det E_n =1$ und die Behauptung folgt aus der Vorbemerkung.\qedhere
	\end{enumerate}
\end{beweis}

\begin{proposition}[label=prop:summe_ideale]
	Sei $R$ ein Dedekind-Ring.
	Für Ideale $I_1$, $I_2$ gibt es dann einen $R$-linearen Isomorphismus $I_1 \oplus I_2 \cong I_1 \cdot I_2 \oplus R$.
\end{proposition}

\begin{korollar}[label=kor:isomorphismus_endl_erz_proj]
	Sei $R$ ein Dedekind-Ring.
	Dann ist jeder endlich erzeugte projektive Modul isomorph zu $R^n \oplus I$ für ein geeignetes $n$ und ein Ideal $I$.
\end{korollar}
\begin{beweis}
	Folgt mit Induktion aus \autoref{lem:ideale_dedekind} b) und \autoref{prop:summe_ideale}.
\end{beweis}

\begin{beweis}[name={von \autoref{satz:klassengruppe_K_0}}]
	Sei $f \colon C(R) \to \tilde{K}_0(R)$ die Abbildung, die ein gebrochenes Ideal $I \subseteq R$ die Klasse von $I$ als $R$-Modul $[I] \in \tilde{K}_0(R)$ zuordnet.
	Da $I\cong a \cdot I \subseteq R$ als $R$-Modul für geeignetes $a \in R$, ist $I$ nach \autoref{lem:ideale_dedekind} a) endlich erzeugt und projektiv.
	Ist $I \cong R \cdot a$ ein gebrochenes Hauptideal, so ist $I \cong R$ als $R$-Modul.
	\autoref{prop:summe_ideale} impliziert, dass $f$ ein Gruppenhomomorphismus ist und damit ist $f$ auch wohldefiniert.
	Wegen b) aus \autoref{lem:ideale_dedekind} (oder wegen \autoref{kor:isomorphismus_endl_erz_proj}) ist $f$ surjektiv.
	
	Zur Injektivität: Sei $I$ ein gebrochenes Ideal mit $[I]=0 \in \tilde{K}_0(R)$.
	Dann ist $I$ als $R$-Modul stabil frei.
	Ohne Beschränkung der Allgemeinheit können wir annehmen, dass $I$ ein Ideal ist.
	Nach c) aus \autoref{lem:ideale_dedekind} ist dann $I$ ein Hauptideal und $I$ ist trivial in $C(R)$.
\end{beweis}

\begin{satz}
	Sei $R$ ein Dedekind-Ring.
	\begin{enumerate}[a)]
		\item Alle Primideale $\neq 0$ sind maximal.
		\item Jedes Ideal $\neq 0$ lässt sich eindeutig als Produkt von Primidealen schreibem.
	\end{enumerate}
\end{satz}
\begin{beweis}
	\begin{enumerate}[a)]
		\item Sei $0 \subsetneq P \subsetneq J \subseteq R$ mit $P$ prim.
		Wegen $P \subsetneq J$ folgt $J^{-1} P \subsetneq R$.
		Es ist $P = J \cdot \enbrace*{J^{-1} P}$.
		Da $P$ prim ist, folgt $J^{-1} P \subseteq P$.
		Es folgt $R= P P^{-1} \subseteq J \subseteq R$, also $J=R$.
		\item \emph{Existenz:} Sei $\mathcal{C}$ die Menge der Ideale $\neq 0$, die sich nicht als Produkt von Primidealen schreiben lassen.
		Wir zeigen $\mathcal{C}=\emptyset$.
		Angeommen, dies wäre nicht der Fall.
		Da Ideale in $R$ endlich erzeugt sind, finden wir mit Zorns Lemma ein maximales Element $I \in \mathcal{C}$.
		
		Offenbar ist $I$ kein maximales Ideal, andernfalls wäre $I$ selbst prim.
		Sei $I \subsetneq J \subsetneq R$.
		Dann ist $I =J \enbrace*{J^{-1} I}$ und wegen $I \subseteq J$ folgt $J^{-1} I \subseteq R$.
		Aus $J \subsetneq R$ folgt durch Multiplikation mit $J^{-1} I$
		\[
			I \subsetneq J^{-1}I
		\] 
		Also gilt $J^{-1} I \notin \mathcal{C}$ und $J \notin \mathcal{C}$.
		Daher lassen sich beide als Produkt von Primidealen schreiben unt damit auch $I$.
		
		\emph{Eindeutigkeit:} Sei $P_1 \cdot \ldots \cdot P_m = Q_1 \cdot \ldots \cdot Q_n$ mit $P_i, Q_j$ prim.
		Dann ist
		\[
			P_1 \supseteq P_1 \cdot \ldots \cdot P_m = Q_1 \cdot \ldots \cdot Q_n
		\]
		Da $P_1$ prim ist, liegt eines der $Q_i$ in $P_1$, ohne Einschränkungen $Q_1 \subseteq P_1$.
		Da nach a) $Q_1$ maximal ist, folgt $Q_1=P_1$.
		Es folgt $p_2 \cdot \ldots \cdot P_m = Q_2 \cdot \ldots \cdot Q_n$ und die Behauptung folgt induktiv.
		\qedhere
	\end{enumerate}
\end{beweis}

\begin{lemma}[label=lem:]
	Sei $R$ ein kommutativer Ring.
	$P \subseteq R$ ein Primideal, $I,J$ Ideale mit $I J  \subseteq P$.
	Dann gilt $I \subseteq P$ oder $J \subseteq P$.
\end{lemma}
\begin{beweis}
	Angenommen dies gilt nicht, dann gibt es $a \in  I\setminus P$, $b \in J \setminus P$.
	Dann gilt $a \cdot b \in I \cdot J \subseteq P$, also $a \in P$ oder $b \in P$. Widerspruch!
\end{beweis}
% section 2 (end)

\cleardoubleoddemptypage
\pagenumbering{Alph}
\setcounter{page}{1}
\cleardoubleoddemptypage
\appendix

\section{Anhang} % (fold)
\label{sec:anhang}
\input{anhang.tex}
\printindex
\printbibliography
\listoffigures
\todototoc
\listoftodos[To-do's und andere Baustellen]
\end{document}
